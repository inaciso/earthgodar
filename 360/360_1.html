<!doctype HTML>
<html>
   <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/photo-sphere-viewer@4/dist/photo-sphere-viewer.min.css"/>
   <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/photo-sphere-viewer@4/dist/plugins/markers.css"/>

<script src="https://cdn.jsdelivr.net/npm/three/build/three.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/uevent@2/browser.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/photo-sphere-viewer@4/dist/photo-sphere-viewer.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/photo-sphere-viewer@4/dist/plugins/gyroscope.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/photo-sphere-viewer@4/dist/plugins/markers.js"></script>


<style>
  /* the viewer container must have a defined size */
  #viewer {
    width: 100vw;
    height: 90vh;
  }

</style>

<script>
  var iH = window.innerHeight/10;	
  var viewer = new PhotoSphereViewer.Viewer({
	caption: '近蓮社(道咩卑利士街)',
	loadingTxt: "讀取中，請稍候",
	defaultLat: 0.3,
	touchmoveTwoFingers: true,
	mousewheelCtrlKey: true,
    container: document.querySelector('#viewer'),
    panorama: 'https://inaciso.github.io/earthgodar/360/360_1.jpg',
	
	plugins: [PhotoSphereViewer.GyroscopePlugin,
		
		[PhotoSphereViewer.MarkersPlugin, {
			markers: [{
					id: 'm1',
					x: 550,
					y: 1369,
					image: 'https://inaciso.github.io/earthgodar/360/pin-blue.png',
					width: iH,
					height: iH,
					anchor: 'bottom center',
					tooltip: '近蓮社',
					
				},
				{
					id: 'm2',
					x: 4625,
					y: 1138,
					image: 'https://inaciso.github.io/earthgodar/360/pin-blue.png',
					width: iH,
					height: iH,
					anchor: 'bottom center',
					tooltip: '位置隱秘，只能從菜攤的小巷楔入',
				},
				{
					id: 'm3',
					x: 3465,
					y: 1210,
					image: 'https://inaciso.github.io/earthgodar/360/pin-blue.png',
					width: iH,
					height: iH,
					anchor: 'bottom center',
					tooltip: '土地公面朝道咩卑利士街公厠的背牆',
				},
				{
					id: 'm4',
					x: 610,
					y: 1952,
					image: 'https://inaciso.github.io/earthgodar/360/pin-blue.png',
					width: iH,
					height: iH,
					anchor: 'bottom center',
					tooltip: '香火旺盛，可見有不少識途的街坊信眾',
				},
				{
					id: 'm5',
					x: 160,
					y: 1315,
					image: 'https://inaciso.github.io/earthgodar/360/pin-blue.png',
					width: iH,
					height: iH,
					anchor: 'bottom center',
					tooltip: '土地公介紹',
					
					
			}]
		}]
	],
		navbar: [
		'autorotate',
		'zoom',
		'caption',
		'fullscreen'
	],
	lang: {
		autorotate: '自動旋轉',
		zoom      : '𦂨放',
		zoomOut   : '放大',
		zoomIn    : '縮小',
		download  : '下載',
		fullscreen: '全屏模式',
		menu      : '選單',
		twoFingers: '請使用兩指來導覽',
		ctrlZoom  : '請使用ctrl和滾輪來縮放圖片',
		loadError : '讀取錯誤:(',
		gyroscope : '啟用陀螺儀',
	}
  });
  
  const markersPlugin = viewer.getPlugin(PhotoSphereViewer.MarkersPlugin);
	
</script>

<script>
/*function myFunction(){
		
		var btn = document.getElementById('gyro');
		var gyro = viewer.getPlugin(PhotoSphereViewer.GyroscopePlugin);
		//gyro.start();
		console.log('gyro: '+gyro+ ", btn: "+ btn);
			

		if (!gyro) {
		  console.log('gyro unavailable?');
		} else if (typeof gyro.isEnabled === 'function') {
		  console.log('gyro.isEnabled():', gyro.isEnabled());
		} else {
		  console.log('no isEnabled fn found?');
		}
		  
		
	};*/
</script>
<body>
<div id="photosphere"></div>
<script type="text/template" id="earthgod-content">
 <div class="sketchfab-embed-wrapper"> <iframe title="近蓮社(道咩卑利士街)" frameborder="0" allowfullscreen mozallowfullscreen="true" webkitallowfullscreen="true" allow="fullscreen; autoplay; vr" xr-spatial-tracking execution-while-out-of-viewport execution-while-not-rendered web-share src="https://sketchfab.com/models/335f7d44308842778f9fc0133e2fabc9/embed"> </iframe> <p style="font-size: 13px; font-weight: normal; margin: 5px; color: #4A4A4A;"> <a href="https://sketchfab.com/3d-models/335f7d44308842778f9fc0133e2fabc9?utm_medium=embed&utm_campaign=share-popup&utm_content=335f7d44308842778f9fc0133e2fabc9" target="_blank" style="font-weight: bold; color: #1CAAD9;"> 近蓮社(道咩卑利士街) </a> by <a href="https://sketchfab.com/inaciso?utm_medium=embed&utm_campaign=share-popup&utm_content=335f7d44308842778f9fc0133e2fabc9" target="_blank" style="font-weight: bold; color: #1CAAD9;"> inaciso </a> on <a href="https://sketchfab.com?utm_medium=embed&utm_campaign=share-popup&utm_content=335f7d44308842778f9fc0133e2fabc9" target="_blank" style="font-weight: bold; color: #1CAAD9;">Sketchfab</a></p></div>
</script>
<div id="viewer"></div>
 <!--<button id="gyro"  onclick="myFunction()">
      gyro tester
    </button>-->
</body>
</html>