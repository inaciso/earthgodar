<!doctype HTML>
<html>
   <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/photo-sphere-viewer@4/dist/photo-sphere-viewer.min.css"/>
   <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/photo-sphere-viewer@4/dist/plugins/markers.css"/>

<script src="https://cdn.jsdelivr.net/npm/three/build/three.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/uevent@2/browser.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/photo-sphere-viewer@4/dist/photo-sphere-viewer.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/photo-sphere-viewer@4/dist/plugins/gyroscope.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/photo-sphere-viewer@4/dist/plugins/markers.js"></script>
<div id="viewer"></div>

<style>
  /* the viewer container must have a defined size */
  #viewer {
    width: 100vw;
    height: 90vh;
  }

</style>

<script>
  var iH = window.innerHeight/10;	
  var viewer = new PhotoSphereViewer.Viewer({
	caption: '近蓮社(道咩卑利士街)',
	loadingTxt: "讀取中，請稍候",
	defaultLat: 0.3,
	touchmoveTwoFingers: true,
	mousewheelCtrlKey: true,
    container: document.querySelector('#viewer'),
    panorama: 'https://inaciso.github.io/earthgodar/360/360_1.jpg',
	
	plugins: [PhotoSphereViewer.GyroscopePlugin,
		
		[PhotoSphereViewer.MarkersPlugin, {
			markers: [{
					id: 'm1',
					x: 550,
					y: 1369,
					image: 'https://inaciso.github.io/earthgodar/360/pin-blue.png',
					width: iH,
					height: iH,
					anchor: 'bottom center',
					tooltip: '近蓮社',
					
				},
				{
					id: 'm2',
					x: 4625,
					y: 1138,
					image: 'https://inaciso.github.io/earthgodar/360/pin-blue.png',
					width: iH,
					height: iH,
					anchor: 'bottom center',
					tooltip: '位置隱秘，只能從菜攤的小巷楔入',
				},
				{
					id: 'm3',
					x: 3465,
					y: 1210,
					image: 'https://inaciso.github.io/earthgodar/360/pin-blue.png',
					width: iH,
					height: iH,
					anchor: 'bottom center',
					tooltip: '土地公面朝道咩卑利士街公厠的背牆',
				},
				{
					id: 'm4',
					x: 610,
					y: 1952,
					image: 'https://inaciso.github.io/earthgodar/360/pin-blue.png',
					width: iH,
					height: iH,
					anchor: 'bottom center',
					tooltip: '香火旺盛，可見有不少識途的街坊信眾',
				},
				{
					id: 'm5',
					x: 160,
					y: 1315,
					image: 'https://inaciso.github.io/earthgodar/360/pin-blue.png',
					width: iH,
					height: iH,
					anchor: 'bottom center',
					tooltip: '土地公介紹',
					content: document.getElementById('earthgod-content').innerHTML
			}]
		}]
	],
		navbar: [
		'autorotate',
		'zoom',
		'caption',
		'fullscreen'
	],
	lang: {
		autorotate: '自動旋轉',
		zoom      : '𦂨放',
		zoomOut   : '放大',
		zoomIn    : '縮小',
		download  : '下載',
		fullscreen: '全屏模式',
		menu      : '選單',
		twoFingers: '請使用兩指來導覽',
		ctrlZoom  : '請使用ctrl和滾輪來縮放圖片',
		loadError : '讀取錯誤:(',
		gyroscope : '啟用陀螺儀',
	}
  });
  
  const markersPlugin = viewer.getPlugin(PhotoSphereViewer.MarkersPlugin);
	
</script>
<script type="text/template" id="earthgod-content">
 <h1>HTML Ipsum Presents</h1> lorem-content <p><strong>Pellentesque habitant morbi tristique</strong> senectus et netus et malesuada fames ac turpis egestas. Vestibulum tortor quam, feugiat vitae, ultricies eget, tempor sit amet, ante. Donec eu libero sit amet quam egestas semper. <em>Aenean ultricies mi vitae est.</em> Mauris placerat eleifend leo. Quisque sit amet est et sapien ullamcorper pharetra. Vestibulum erat wisi, condimentum sed, <code>commodo vitae</code>, ornare sit amet, wisi. Aenean fermentum, elit eget tincidunt condimentum, eros ipsum rutrum orci, sagittis tempus lacus enim ac dui. <a href="#">Donec non enim</a> in turpis pulvinar facilisis. Ut felis.</p> <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d54469.108394396746!2d6.9617553450295855!3d44.151844842645815!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x12cdaf6678af879d%3A0xcabc15aee7b89386!2sParc%20national%20du%20Mercantour!5e0!3m2!1sfr!2sfr!4v1611498421096!5m2!1sfr!2sfr" width="100%" height="300" frameborder="0" style="border:0;" allowfullscreen="" aria-hidden="false" tabindex="0"></iframe> <h2>Header Level 2</h2> <ol> <li>Lorem ipsum dolor sit amet, consectetuer adipiscing elit.</li> <li>Aliquam tincidunt mauris eu risus.</li> </ol> <blockquote><p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vivamus magna. Cras in mi at felis aliquet congue. Ut a est eget ligula molestie gravida. Curabitur massa. Donec eleifend, libero at sagittis mollis, tellus est malesuada tellus, at luctus turpis elit sit amet quam. Vivamus pretium ornare est.</p></blockquote> <h3>Header Level 3</h3> <ul> <li>Lorem ipsum dolor sit amet, consectetuer adipiscing elit.</li> <li>Aliquam tincidunt mauris eu risus.</li> </ul>
</script>
<script>
/*function myFunction(){
		
		var btn = document.getElementById('gyro');
		var gyro = viewer.getPlugin(PhotoSphereViewer.GyroscopePlugin);
		//gyro.start();
		console.log('gyro: '+gyro+ ", btn: "+ btn);
			

		if (!gyro) {
		  console.log('gyro unavailable?');
		} else if (typeof gyro.isEnabled === 'function') {
		  console.log('gyro.isEnabled():', gyro.isEnabled());
		} else {
		  console.log('no isEnabled fn found?');
		}
		  
		
	};*/
</script>
<body>

 <!--<button id="gyro"  onclick="myFunction()">
      gyro tester
    </button>-->
</body>
</html>